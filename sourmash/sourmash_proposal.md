Title: Systematic evaluation of sourmash: A tool for DNA comparison

Sourmash is a software package for computing minhash sketches from DNA and comparing them to determine sequence similarity. Effectively this allows you compress larger sets of DNA or amino acids into smaller signatures comprised of hash numbers,  search against databases containing multiple signatures, and to compare signatures. SBT_search is an extension of sourmash that  

Goals: 
- To demonstrate the utility of sourmash sbt_gather for identifying components of and comparing metagenomes. 

- Highlight strengths versus what's currently available 

- Identify and demonstrate potential use cases 

Specific Aims: 

- Aim 1:  Determine the accuracy of sourmash in the prediction of taxonomic assignment. 

- Aim 2: Determine the ability of sourmash to compare the composition of metgenomes. 

- Aim 3: Develop extensions of current sourmash functionality

- Aim 4: Evaluate the accuracy of abundance predictions generated by sourmash

- Aim 5: Demonstrate the ability to search genomes/metagenomes with genes of interest


Datasets: 

- Shakya, M., C. Quince, J. H. Campbell, Z. K. Yang, C. W. Schadt and M. Podar (2013). "Comparative metagenomic and rRNA microbial diversity characterization using archaeal and bacterial synthetic communities." Environ Microbiol 15(6): 1882-1899.
	
	- 48 organisms 

- Lindgreen, S., K. L. Adair and P. P. Gardner (2016). "An evaluation of the accuracy and speed of metagenome analysis tools." Sci Rep 6: 19233.
	
	- 417 genera, 6 metagenomes


Experimental design: 

Determine the accuracy of sourmash in the prediction of taxonomic assignment. 

1. Compare output of sbt_gather to known composition of metagenomes using the shakya et al (2013) data set. 
	- Evaluate taxonomic assignment by comparing what we know is there versus assignments generated by sbt_gather
	- Determine accuracy of composition estimates (i.e. fraction of metagenome) by determining genome sizes, calculating metagenome size and fraction of metagenome size for each genome. 

2. Evaluate ability to scale using low and high diversity metagenomes using the Shakya et al 2013 (48 organims) and Lindgreen et al 2016 (417 genera) 
	- Reproduce analysis performed with low diversity (Shakya 2013) data set on high diversity (Lindgreen 2016) set.
	
3. Evaluate performance on genomes with unknown compostion. 
	- Potential data sets 
		- Rhizosphere data set from Jiarong 
		- SRA 
		
Validation: Calculate the 
	
Evaluate the ability of sourmash to compare the composition of metgenomes. 

1. Calculate the overlap of metagenomes with known composition (Lindgreen et al data set)
	- Build a databases from a metagenome and search against it with the same metagenome 
	- Build a database with with large metagenomes from Lindgreen et al 2016 data set, search with another genome from the same data set, and compare estimated overlap with known overlap.

2. Compare genomes with undefined composition (~150,000 metagenomes in the SRA, Rhizopsphere data)
	- Calculate signatures for (all of the) metagenomes in the SRA and compare (Develop this further)

Develop extensions of current sourmash sbt_search functionality
	- Make use of the things that are not in common by printing out a list of hashes that are not shared. These hashes can be used to search a database. 
	- 

Evaluate the accuracy of abundance predictions generated by sourmash.

1. Compare abundance estimates from sourmash (@PTB add flag) to real abundances using genomes with defined composition
	- Evaluate the ability of sourmash to determine the abundance of organisms in a metagenome using synthetic genomes (Shakya and Lindgreen) 
	- Characterize genomes with undefined composition (i.e rhizosphere data set or some genomes from SRA) 
	
Demonstrate the ability to search genomes/metagenomes with genes of interest

1. Search metagenomes/genomes for antibiotic resistance/virulence genes
	- Use Shakya and lindrgreen data sets if applicable. Consider spike in experiments using bacteria with known health significance (e.g. Ecoli, Salmonella, Cj, Staph (MRSA), Enterobacteriacea (CRE)) to demonstrate relevance to health screen 
	


